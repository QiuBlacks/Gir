# 消息队列

# 一、基础知识

## 1、基本介绍

消息队列中间件是分布式系统中重要的组件，主要解决应用耦合，异步消息，流量削锋等问题。

实现高性能，高可用，可伸缩和最终一致性架构。

使用较多的消息队列有ActiveMQ，RabbitMQ，ZeroMQ，Kafka，MetaMQ，RocketMQ。



## 2、实现功能

异步处理，应用解耦，流量削锋和消息通讯

**异步处理，服务解耦、流量控制**



## 3、两种模型

RabbitMQ 采用队列模型，RocketMQ和Kafka 采用发布/订阅模型。

### 3.1 队列模型

生产者往某个队列里面发送消息，一个队列可以存储多个生产者的消息，一个队列也可以有多个消费者，
但是消费者之间是竞争关系，即**每条消息只能被一个消费者消费**。



### 3.2 发布/订阅模型

**为了解决一条消息能被多个消费者消费的问题**，发布/订阅模型就来了。

该模型是将消息发往一个`Topic`即主题中，所有订阅了这个 `Topic` 的订阅者都能消费这条消息。



## 4、组成

- Producer：生产者 
- Consumer：消费者
- Broker：消息队列服务端

消息从Producer发往Broker，Broker将消息存储至本地，然后Consumer从Broker拉取消息，或者Broker推送消息至Consumer，最后消费。









# 如何保证消息不丢失？

# 如何处理重复消息？

幂等



# 如何保证消息的有序性？

# 如果处理消息堆积？



https://www.nowcoder.com/discuss/568122