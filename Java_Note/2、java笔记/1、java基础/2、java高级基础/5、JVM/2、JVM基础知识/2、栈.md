# 栈
---------
# 一、基本介绍
## 1、分类
分为java虚拟机栈和本地方法栈，这里主要讲虚拟栈

## 2、特点
存放基本数据类型、对象的引用、方法出口等，线程私有。
## 3、虚拟机栈结构
&emsp;&emsp;每个线程（方法）执行都会创建一个栈帧(Stack Frame)：用于存放局部变量表，操作栈，动态链接，方法出口
- 局部变量表(Local Variables)：
- 操作栈：比如赋值给变量前的常数会先进去，等变量进入局部变量表再将值赋给变量
- 动态链接：方法区中存放着 线程中所有方法运行时对应的内存地址（在方法执行的过程中有可能需要用到类中的常量，所以必须要有一个引用指向运行时常量）

- 方法出口：当一个方法执行完毕之后，要返回之前调用它的地方，因此在栈帧中必须保存一个方法返回地址
![image](WEBRESOURCEc41dcf6147dc8e1847abd4d1f9856801)


## 4、Java虚拟机栈这个区域，Java虚拟机规范规定了两种异常：
- 线程请求的栈深度大于虚拟机所允许的深度，抛出StackOverFlow异常。<br>
- 对于支持动态扩展的虚拟机，当扩展无法申请到足够的内存时会抛出OutOfMemory异常。

