**Maven中 jar包冲突原理与解决办法**

**一、基本介绍**

**1、冲突原理**

若项目中多个Jar同时引用了相同的Jar时，会产生依赖冲突，但Maven采用了两种避免冲突的策略，因此在Maven中是不存在依赖冲突的。

**2、依赖传递**

当我们需要A的依赖的时候，就会在pom.xml中引入A的jar包；而引入的A的jar包中可能又依赖B的jar包，这样Maven在解析pom.xml的时候，会依次将A、B 的jar包全部都引入进来。

**3、直接依赖**

直接导入的jar包的那一个依赖

**二、解决方法**

**1、****Maven默认处理策略**

**1）最短路径优先**

Maven 面对 D1 和 D2 时，会默认选择最短路径的那个 jar 包，即 D2。E->F->D2 比 A->B->C->D1 路径短 1。

**2）最先声明优先**

如果路径一样的话，如： A->B->C1, E->F->C2 ，两个依赖路径长度都是 2，那么在pom.xml中谁先被声明，就使用谁。

**2、****移除依赖：用于排除某项依赖的依赖jar包**

​     1）手动排除

手动在pom.xml中的依赖下使用<exclusion>标签去排除冲突的jar包

2）使用插件

利用插件Maven Helper中的execlude方法

**3 、版本锁定原则：一般用在继承项目的父项目中**