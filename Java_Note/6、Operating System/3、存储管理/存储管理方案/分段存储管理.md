# 分段存储管理



 在段式存储管理中，将程序的地址空间划分为若干段（segment），如代码段，数据段，堆栈段；这样每个进程有一个二维地址空间，相互独立，互不干扰。段式管理的优点是：没有内碎片（因为段大小可变，改变段大小来消除内碎片）。但段换入换出时，会产生外碎片（比如4k的段换5k的段，会产生1k的外碎片）



分段地址变化过程：

<img src="https://gitee.com/BlacksJack/picture-bed/raw/master/img/20200910183159.png" alt="image-20200909214340420" style="zoom: 67%;" />



① 从逻辑地址A中取出前几位为段号S，后几位为段内偏移量（段内位移）W，注意段式存储管理的题目中，逻辑地址一般以二进制给出，而在页式存储管理中，逻辑地址一般以十进制给出，各位读者要具体问题具体分析。

② 比较段号S和段表长度M = 3（0，1，2），若S≥M，则产生**越界异常**，否则继续执行。

③ 段表中段号S对应的段表项地址=段表起始地址F  + 段号S×段表项长度，取出该段表项的**前几位**得到段长C。若段内偏移量210 ≥ C（500），则产生**越界异常**，否则继续执行。从这句话我们可以看出，段表项实际上只有两部分，前几位是段长，后几位是起始地址。

④ 取出段表项中该段的起始地址b，计算E = b + W，用得到的物理地址E去访问内存。

