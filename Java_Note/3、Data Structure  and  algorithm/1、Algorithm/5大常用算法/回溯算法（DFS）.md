# 回溯算法（DFS的一种）

参考[https://zhuanlan.zhihu.com/p/93530380](https://zhuanlan.zhihu.com/p/93530380)

# 一、基本概念

## 1、主要思想

解决一个回溯问题，实际上就是一个决策树的遍历过程。你只需要思考 3 个问题：

1）路径：也就是已经做出的选择。

2）选择列表：也就是你当前可以做的选择。（一般就是给的数据）

3）结束条件：也就是到达决策树底层，无法再做选择的条件





## 2、代码框架

```java
result = []  //记录结果集

def backtrack(路径, 选择列表):
    
    if 满足结束条件:
        result.add(路径)  //1、将选择添加到路径
        return

    for 选择 in 选择列表:
       // 2、排除不合适的选择（剪枝）
		排除不合适的选择（也可以放在第一步前面：递归回去时再排序不合适的选择）
      
       // 3、做选择
        将该选择从选择列表移除
        路径.add(选择)
        
       //4、递归
        backtrack(路径, 选择列表)
        
        //5、 撤销选择
        路径.remove(选择)
        将该选择再加入选择列表
```

## 3、使用场景

遍历所有可能



## 4、注意

- 对于字符串，数组数字的排列可以用**交换法**，记得取个开头索引begin进行递归操作，并令循环i=begin
- 如果满足条件添加路径的话，记得新建路径**res.add(new path)**，不然递归回去path会变为空
- 在判断结束条件时，令**结果的长度==目标长度**   这是很必须的，满足这条件再进行其他判断

- **做选择时排除不适合的选项**，可以加个状态变量的判断，看这个变量是否已用；可以用hashset的containsKey或者visited数组的TF判断或者LinkedList的contains等等





