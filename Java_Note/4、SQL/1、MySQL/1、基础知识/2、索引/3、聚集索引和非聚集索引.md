# 聚集索引和非聚集索引

## 一、聚集索引（clustered index）

由于聚集索引规定数据在表中的物理存储顺序，因此一个表只能包含**一个**聚集索引。但该索引可以包含**多个列**（组合索引）



### 2、 InnoDB中的聚集索引

叶子节点存储**行记录**， InnoDB必须要有，且只有一个聚集索引：

（1）如果表定义了Primary Key（主键），则Primary Key就是聚集索引；

（2）如果表没有定义PK，则第一个not NULL unique（唯一的非空索引）列是聚集索引；

（3）否则，InnoDB会创建一个隐藏的row-id作为聚集索引；



## 二、非聚集索引（non-clustered index）

非聚集索引，必须先查到目录中查到每一项数据对应的页码，然后再根据页码查到具体内容，该索引中索引的逻辑顺序与磁盘上行的物理存储顺序不同。



- 聚集索引就是以主键创建的索引
- 非聚集索引就是以非主键创建的索引



## 三、两者差异



区别：

- 聚集索引在叶子节点存储的是表中的数据
- 非聚集索引在叶子节点存储的是主键和索引列
- 使用非聚集索引查询出数据时，拿到叶子上的主键再去查到想要查找的数据。(拿到主键再查找这个过程叫做回表)
- 聚集索引一张表只能创建一个，非聚集索引一张表可以创建多个







