# HTTPS

# 一、基础知识

### 1、产生背景

HTTP（超文本传输协议）被用于在Web浏览器和网站服务器之间，以**明文**方式传递信息，**不提供任何方式的数据加密**，因此使用HTTP协议传输隐私信息（如：银行卡号、密码等支付信息）非常不安全。

为了解决这一安全缺陷，网景公司设计了SSL（Secure Sockets Layer）协议，在HTTP的基础上加入了SSL（Secure Sockets Layer）协议，SSL依靠SSL证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。从而诞生了HTTPS（安全套接字层超文本传输协议）

### 2、定义

HTTP + SSL（TLS）

HTTPS是一种通过计算机网络进行安全通信的传输协议，经由HTTP进行通信，利用SSL/TLS建立全信道，加密数据包。

HTTPS使用的主要目的是提供对网站服务器的身份认证，同时保护交换数据的隐私与完整性。



### 3、安全措施

 采用 对称加密 和 非对称加密 结合的方式来保护浏览器和服务端之间的通信安全。

对称加密算法加密数据 + 非对称加密算法交换密钥 + 数字证书验证身份=安全



### 4、HTTPS的优点

尽管HTTPS并非绝对安全，掌握根证书的机构、掌握加密算法的组织同样可以进行中间人形式的攻击，但HTTPS仍是现行架构下最安全的解决方案，主要有以下几个有点：

- 使用HTTPS协议可认证用户和服务器，确保数据发送到正确的客户机和服务器；
- HTTPS是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。
- 谷歌曾在2014年8月份调整搜索引擎算法，并称“比起同等HTTP网站，采用HTTPS加密的网站在搜索结果中的排名将会更高”。

### 5、什么时候该使用HTTPS

当你访问银行网站、支付网关、购物网站、登录页、电子邮件之类需要敏感信息的网站时，应该使用 HTTPS。

> Tip：如果某个网站要求你填写银行卡之类的敏感信息，首先你要检查该网页是否使用HTTPS加密连接。如果没有，那么请不要输入任何敏感信息，如：信用卡号、密码。



### 6、HTTP切换到HTTPS

实现将网站从HTTP切换到HTTPS，你可以：

- 手动更改：需要将页面中所有的链接，例如js，css，图片等等URL都由HTTP改为HTTPS。
- 联系亚洲诚信400-880-8600，我们配有专业的技术人员全面负责SSL证书售后服务，帮助你轻松实现[HTTPS全站加密](https://www.trustasia.com/https)。



### 7、HTTP和HTTPS的区别

<img src="https://gitee.com/BlacksJack/picture-bed/raw/master/img/20200910183102.png" alt="image-20200728100904569" style="zoom:67%;" />



- **工作层**：在OSI网络模型中，HTTP工作于**应用层**，而HTTPS工作在传输层。

- **连接端口**：HTTP标准端口是80，而HTTPS的标准端口是443。

- **传输方式**：HTTP是超文本传输协议，信息是明文传输，而HTTPS是SSL加密传输协议。

- **工作耗时**：HTTP耗时=TCP握手，而HTTPS耗时=TCP握手+SSL握手。

- **显示形式**：HTTP的URL以http://开头，而HTTPS的URL以https://开头。

- **费用**：HTTP无需费用，而HTTPS需要到CA申请证书，一般免费证书较少，需要一定费用。

- **安全性**：HTTP的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比HTTP协议安全。

  



# 二、HTTPS加密过程

![image-20200728102024923](https://gitee.com/BlacksJack/picture-bed/raw/master/img/20200910183103.png)

1、客户端请求服务器获取证书公钥

2、客户端（SSL/TLS）解析证书（无效则弹出警告）

3、生成随机密码

4、用公钥加密随机值生成密钥

5、客户端发送密钥给服务端

6、服务端用私钥解密密钥得到随机值（前面的是非对称加密）

7、使用随机值进行信息加密，双方进行传输数据（对称加密）





1.首先客户端先给服务器发送一个请求

 2.服务器发送一个SSL证书给客户端，内容包括：证书的发布机构、有效期、所有者、签名以及公钥

 3.客户端对发来的公钥进行真伪校验，校验为真则使用公钥对对称加密算法以及对称密钥进行加密

 4.服务器端使用私钥进行解密并使用对称密钥加密确认信息发送给客户端

 5.随后客户端和服务端就使用对称密钥进行信息传输



## 参考文章

[HTTP与HTTPS的区别](https://help.trustasia.com/http-vs-https/)

[HTTPS加密过程详解](https://segmentfault.com/a/1190000019976390)

[http和https区别，三分钟了解这两者的区别](https://www.changchenghao.cn/n/268257.html)